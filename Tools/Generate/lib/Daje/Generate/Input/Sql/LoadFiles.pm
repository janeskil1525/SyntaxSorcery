use v5.40;
use feature 'class';
no warnings 'experimental::class';


class Daje::Generate::Input::Sql::LoadFiles {
    use Mojo::File;

    field $source_path :param :reader = "";
    field $files :reader = {};
    field $filetype :param :reader = "";
    field  @changed_files :reader;

    method load_changed_files () {

        try {
            my $path = Mojo::File->new($source_path);
            $files = $path->list();
        } catch ($e) {
            die "Files could not be loaded: $e";
        };
        my $changed = Daje::Generate::Tools::FileChanged->new();
        my $length = scalar @{$files};
        for (my $i = 0; $i < $length; $i++) {
            if ($changed->is_file_changed( @{$files}[$i])) {
                push @changed_files, @{$files}[$i];
            }
        }

        return;
    }


};


1;
#################### pod generated by Pod::Autopod - keep this line to make pod updates possible ####################

=head1 NAME

lib::Daje::Generate::Input::Sql::LoadFiles - lib::Daje::Generate::Input::Sql::LoadFiles


=head1 REQUIRES

L<Mojo::File> 

L<feature> 

L<v5.40> 


=head1 METHODS


=cut

